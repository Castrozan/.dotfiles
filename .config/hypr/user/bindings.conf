# User keybinding overrides and additions
# These override or add to omarchy defaults

# Override app variables
$terminal = wezterm
$editor = code
$fileManager = nautilus
$browser = brave

# Super key alone (on release) opens fuzzel and unmaximizes active window (GNOME-like)
bindrd = SUPER, Super_L, GNOME-like launcher, exec, omarchy-super-launcher

# Additional user bindings can go here
# Example: bind = $mainMod, Y, exec, your-custom-command

# Unbind omarchy tab defaults to override them
unbind = ALT, TAB
unbind = ALT SHIFT, TAB
unbind = SUPER, TAB
unbind = SUPER SHIFT, TAB

# Override tab cycling to be workspace-only with history-based ordering
bindd = ALT, TAB, Cycle next (ws), cyclenext, hist
bindd = ALT, TAB, Bring to top, bringactivetotop
bindd = ALT SHIFT, TAB, Cycle next (ws), cyclenext
bindd = ALT SHIFT, TAB, Bring to top, bringactivetotop
bindd = SUPER, TAB, Cycle last (ws), cyclenext, hist
bindd = SUPER, TAB, Bring to top, bringactivetotop
bindd = SUPER SHIFT, TAB, Cycle next (ws), cyclenext
bindd = SUPER SHIFT, TAB, Bring to top, bringactivetotop

# Unbind omarchy workspace defaults to override them
unbind = SUPER CTRL, UP
unbind = SUPER CTRL, DOWN
unbind = SUPER CTRL, LEFT
unbind = SUPER CTRL, RIGHT
unbind = SUPER SHIFT ALT, UP
unbind = SUPER SHIFT ALT, DOWN
unbind = SUPER SHIFT ALT, LEFT
unbind = SUPER SHIFT ALT, RIGHT

# Workspace navigation with CTRL ALT
$cols = 7
bindd = CTRL ALT, UP, Grid up, exec, hyprctl dispatch workspace $(( $(hyprctl activeworkspace -j | jq '.id') - $cols ))
bindd = CTRL ALT, DOWN, Grid down, exec, hyprctl dispatch workspace $(( $(hyprctl activeworkspace -j | jq '.id') + $cols ))
bindd = CTRL ALT, LEFT, Grid left, exec, hyprctl dispatch workspace $(( $(hyprctl activeworkspace -j | jq '.id') - 1 ))
bindd = CTRL ALT, RIGHT, Grid right, exec, hyprctl dispatch workspace $(( $(hyprctl activeworkspace -j | jq '.id') + 1 ))

# Move window to workspace with CTRL ALT SHIFT
bindd = CTRL ALT SHIFT, UP, Move win up, exec, hyprctl dispatch movetoworkspace $(( $(hyprctl activeworkspace -j | jq '.id') - $cols ))
bindd = CTRL ALT SHIFT, DOWN, Move win down, exec, hyprctl dispatch movetoworkspace $(( $(hyprctl activeworkspace -j | jq '.id') + $cols ))
bindd = CTRL ALT SHIFT, LEFT, Move win left, exec, hyprctl dispatch movetoworkspace $(( $(hyprctl activeworkspace -j | jq '.id') - 1 ))
bindd = CTRL ALT SHIFT, RIGHT, Move win right, exec, hyprctl dispatch movetoworkspace $(( $(hyprctl activeworkspace -j | jq '.id') + 1 ))

# Calendar popup
bindd = SUPER, K, Toggle calendar, exec, ~/.config/waybar/calendar-toggle.sh

# Hyprland plugins
source = ~/.config/hyprexpo.conf
