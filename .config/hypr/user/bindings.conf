# User keybinding overrides and additions
# These override or add to omarchy defaults

# Override app variables
$terminal = wezterm
$editor = code
$fileManager = nautilus
$browser = brave

# Super+Q opens fuzzel launcher (Super alone doesn't work reliably with combos)
bindd = SUPER, Q, Launcher, exec, omarchy-super-launcher

# Close window with focus history cycling (maintains maximized state)
unbind = SUPER, W
bindd = SUPER, W, Close window (cycle prev), exec, omarchy-close-window-cycle

# Full maximize (true fullscreen)
unbind = SUPER SHIFT, F
bindd = SUPER SHIFT, F, Full maximize, fullscreen, 0

# Window switcher: hyprshell handles Super+Tab with visual preview
# Unbind omarchy defaults so hyprshell plugin can take over
unbind = SUPER, TAB
unbind = SUPER SHIFT, TAB

# Unbind omarchy workspace defaults to override them
unbind = SUPER CTRL, UP
unbind = SUPER CTRL, DOWN
unbind = SUPER CTRL, LEFT
unbind = SUPER CTRL, RIGHT
unbind = SUPER SHIFT ALT, UP
unbind = SUPER SHIFT ALT, DOWN
unbind = SUPER SHIFT ALT, LEFT
unbind = SUPER SHIFT ALT, RIGHT

# Workspace navigation with CTRL ALT
$cols = 7
bindd = CTRL ALT, UP, Grid up, exec, hyprctl dispatch workspace $(( $(hyprctl activeworkspace -j | jq '.id') - $cols ))
bindd = CTRL ALT, DOWN, Grid down, exec, hyprctl dispatch workspace $(( $(hyprctl activeworkspace -j | jq '.id') + $cols ))
bindd = CTRL ALT, LEFT, Grid left, exec, hyprctl dispatch workspace $(( $(hyprctl activeworkspace -j | jq '.id') - 1 ))
bindd = CTRL ALT, RIGHT, Grid right, exec, hyprctl dispatch workspace $(( $(hyprctl activeworkspace -j | jq '.id') + 1 ))

# Move window to workspace with CTRL ALT SHIFT
bindd = CTRL ALT SHIFT, UP, Move win up, exec, hyprctl dispatch movetoworkspace $(( $(hyprctl activeworkspace -j | jq '.id') - $cols ))
bindd = CTRL ALT SHIFT, DOWN, Move win down, exec, hyprctl dispatch movetoworkspace $(( $(hyprctl activeworkspace -j | jq '.id') + $cols ))
bindd = CTRL ALT SHIFT, LEFT, Move win left, exec, hyprctl dispatch movetoworkspace $(( $(hyprctl activeworkspace -j | jq '.id') - 1 ))
bindd = CTRL ALT SHIFT, RIGHT, Move win right, exec, hyprctl dispatch movetoworkspace $(( $(hyprctl activeworkspace -j | jq '.id') + 1 ))

# Calendar popup
bindd = SUPER, Y, Toggle calendar, exec, ~/.config/waybar/calendar-toggle.sh

# Bluetooth quick menu
bindd = SUPER SHIFT, B, Bluetooth menu, exec, omarchy-bluetooth

# Summon Brave browser to current workspace
unbind = SUPER, B
bindd = SUPER, B, Summon Brave, exec, omarchy-summon-brave

# ============================================
# Custom keybindings migrated from GNOME
# ============================================

# Voice input - whisper
bindd = ALT, A, Whisper input, exec, whisper-input

# Quick terminal with tmux
bindd = SHIFT ALT, 2, Tmux session, exec, wezterm start -- tmux new-session

# Clipboard manager - clipse (replaces cliphist)
unbind = SUPER CTRL, V
bindd = SUPER CTRL, V, Clipboard manager, exec, wezterm start -- clipse

# Workbench - Cursor editor
bindd = SUPER SHIFT, W, Workbench, exec, cursor $HOME/workbench

# Daily note - Obsidian
bindd = SUPER SHIFT, D, Daily note, exec, bash -c 'OBSIDIAN_HOME="$HOME/vault" EDITOR=code daily-note'

# Voxtype toggle
bindd = SHIFT ALT, A, Voxtype toggle, exec, bash -c 'if pgrep -f "voxtype record start" > /dev/null; then voxtype record stop; else voxtype record start; fi'

# Obsidian read it later
bindd = SUPER, R, Read it later, exec, xdg-open 'obsidian://adv-uri?commandid=obsidian-read-it-later%3Asave-clipboard-to-notice'

# Screenshot annotate with ksnip
bindd = CTRL SHIFT, PRINT, Screenshot annotate, exec, ksnip-annotate
